<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å¯„ã›æ›¸ããƒšãƒ¼ã‚¸</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ‰ æˆ–ä¸–ã‚¤ãƒŒ èª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ï¼ğŸ‰</h1>

    <p>ã“ã“ã¾ã§ãŸã©ã‚Šç€ã„ãŸã‚ãªãŸã‹ã‚‰ã€æˆ–ä¸–ã‚¤ãƒŒã¸ãŠç¥ã„ã®è¨€è‘‰ã‚’ï¼</p>

    <div id="messages">
      <div class="message">ğŸ’› æ¨ã—ã¯æ°¸é ï¼ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ï¼</div>
      <div class="message">ğŸ–¤ ã“ã‚Œã‹ã‚‰ã‚‚ãšã£ã¨å¿œæ´ã—ã¦ã‚‹ã‚ˆï¼</div>
      <div class="message">ğŸ’› æœ€å¾Œã¾ã§è§£ã„ãŸã‚ãªãŸã‚‚æœ€é«˜ï¼</div>
    </div>

    <!-- å¯„ã›æ›¸ããƒ•ã‚©ãƒ¼ãƒ ï¼ˆåå‰ï¼‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰ -->
    <form id="messageForm">
      <input type="text" id="userName" placeholder="åå‰ï¼ˆåŒ¿åOKï¼‰" required>
      <input type="text" id="newMessage" placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ›¸ã" required>
      <button type="submit">é€ä¿¡</button>
    </form>
  </div>

  <script>
    // ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    window.addEventListener("DOMContentLoaded", () => {
      const savedMessages = JSON.parse(localStorage.getItem("userMessages")) || [];
      const messagesContainer = document.getElementById("messages");
      savedMessages.forEach(({ name, text }) => {
        const div = document.createElement("div");
        div.className = "message";
        div.textContent = `ğŸ“ ${name}ï¼š${text}`;
        messagesContainer.appendChild(div);
      });
    });

    // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å‡¦ç†
    document.getElementById("messageForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const name = document.getElementById("userName").value.trim() || "åŒ¿å";
      const messageText = document.getElementById("newMessage").value.trim();
      if (!messageText) return;

      const newMessage = { name, text: messageText };

      // è¡¨ç¤ºã«è¿½åŠ 
      const messageDiv = document.createElement("div");
      messageDiv.className = "message";
      messageDiv.textContent = `ğŸ“ ${newMessage.name}ï¼š${newMessage.text}`;
      document.getElementById("messages").appendChild(messageDiv);

      // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
      const saved = JSON.parse(localStorage.getItem("userMessages")) || [];
      saved.push(newMessage);
      localStorage.setItem("userMessages", JSON.stringify(saved));

      // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç©ºã«ã™ã‚‹
      document.getElementById("userName").value = "";
      document.getElementById("newMessage").value = "";
    });
  </script>
</body>
</html>
