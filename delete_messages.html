<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å¯„ã›æ›¸ãå‰Šé™¤ãƒšãƒ¼ã‚¸</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ—‘ï¸ å¯„ã›æ›¸ãå‰Šé™¤ãƒšãƒ¼ã‚¸</h1>
    <p>å€‹åˆ¥ã¾ãŸã¯ã™ã¹ã¦ã®å¯„ã›æ›¸ãã‚’å‰Šé™¤ã§ãã¾ã™ã€‚</p>

    <div id="messagesList"></div>

    <button id="clearAllBtn">âš ï¸ å…¨å‰Šé™¤</button>
  </div>

  <script>
    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºç”¨
    function loadMessages() {
      const listContainer = document.getElementById("messagesList");
      listContainer.innerHTML = "";

      const messages = JSON.parse(localStorage.getItem("userMessages")) || [];

      if (messages.length === 0) {
        listContainer.innerHTML = "<p>å‰Šé™¤ã§ãã‚‹å¯„ã›æ›¸ããŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>";
        return;
      }

      messages.forEach((msg, index) => {
        const div = document.createElement("div");
        div.className = "message";
        div.innerHTML = `
          ğŸ“ <strong>${msg.name}</strong>ï¼š${msg.text}
          <button onclick="deleteMessage(${index})">å‰Šé™¤</button>
        `;
        listContainer.appendChild(div);
      });
    }

    // å€‹åˆ¥å‰Šé™¤
    function deleteMessage(index) {
      const messages = JSON.parse(localStorage.getItem("userMessages")) || [];
      messages.splice(index, 1);
      localStorage.setItem("userMessages", JSON.stringify(messages));
      loadMessages();
    }

    // å…¨å‰Šé™¤
    document.getElementById("clearAllBtn").addEventListener("click", () => {
      if (confirm("ã™ã¹ã¦ã®å¯„ã›æ›¸ãã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) {
        localStorage.removeItem("userMessages");
        loadMessages();
      }
    });

    // åˆæœŸè¡¨ç¤º
    loadMessages();
  </script>
</body>
</html>
